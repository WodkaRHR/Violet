#include "types.h"
#include <stdbool.h>
#include "pokemon/count.h"
#include "pokepad/pokedex/operator.h"
#include "mega.h"

u16 pokedex_order[POKEMON_CNT - 1] = {
	1, // POKEMON_BISASAM
	2, // POKEMON_BISAKNOSP
	3, // POKEMON_BISAFLOR
	4, // POKEMON_GLUMANDA
	5, // POKEMON_GLUTEXO
	6, // POKEMON_GLURAK
	7, // POKEMON_SCHIGGY
	8, // POKEMON_SCHILLOK
	9, // POKEMON_TURTOK
	167, // POKEMON_DARTIRI
	168, // POKEMON_DARTIGNIS
	169, // POKEMON_FIARO
	10, // POKEMON_HORNLIU
	11, // POKEMON_KOKUNA
	12, // POKEMON_BIBOR
	164, // POKEMON_STARALILI
	165, // POKEMON_STARAVIA
	166, // POKEMON_STARAPTOR
	345, // POKEMON_BRONZEL
	346, // POKEMON_BRONZONG
	182, // POKEMON_MAEHIKEL
	183, // POKEMON_CHEVRUMM
	232, // POKEMON_PARAGONI
	233, // POKEMON_TROMBORK
	13, // POKEMON_PIKACHU
	14, // POKEMON_RAICHU
	15, // POKEMON_SANDAN
	16, // POKEMON_SANDAMER
	17, // POKEMON_NIDORANW
	18, // POKEMON_NIDORINA
	19, // POKEMON_NIDOQUEEN
	20, // POKEMON_NIDORANM
	21, // POKEMON_NIDORINO
	22, // POKEMON_NIDOKING
	162, // POKEMON_FLOETTE
	163, // POKEMON_FLORGES
	23, // POKEMON_VULPIX
	24, // POKEMON_VULNONA
	26, // POKEMON_PUMMELUFF
	27, // POKEMON_KNUDDELUFF
	28, // POKEMON_ZUBAT
	29, // POKEMON_GOLBAT
	31, // POKEMON_MYRAPLA
	32, // POKEMON_DUFLOR
	33, // POKEMON_GIFLOR
	132, // POKEMON_FOLIPURBA
	133, // POKEMON_FEELINARA
	35, // POKEMON_WATTZAPF
	36, // POKEMON_VOLTULA
	37, // POKEMON_DIGDA
	38, // POKEMON_DIGDRI
	325, // POKEMON_KASTADUR
	326, // POKEMON_TENTANTEL
	39, // POKEMON_ENTON
	40, // POKEMON_ENTORON
	41, // POKEMON_MENKI
	42, // POKEMON_RASAFF
	43, // POKEMON_FUKANO
	44, // POKEMON_ARKANI
	184, // POKEMON_GRAMOKLES
	185, // POKEMON_DUOKLES
	186, // POKEMON_DURENGARD
	45, // POKEMON_ABRA
	46, // POKEMON_KADABRA
	47, // POKEMON_SIMSALA
	48, // POKEMON_MACHOLLO
	49, // POKEMON_MASCHOCK
	50, // POKEMON_MACHOMEI
	51, // POKEMON_KNOFENSA
	52, // POKEMON_ULTRIGARIA
	53, // POKEMON_SARZENIA
	54, // POKEMON_TENTACHA
	55, // POKEMON_TENTOXA
	56, // POKEMON_KLEINSTEIN
	57, // POKEMON_GEOROK
	58, // POKEMON_GEOWAZ
	59, // POKEMON_PONITA
	60, // POKEMON_GALLOPA
	61, // POKEMON_FLEGMON
	62, // POKEMON_LAHMUS
	64, // POKEMON_MAGNETILO
	65, // POKEMON_MAGNETON
	67, // POKEMON_PORENTA
	68, // POKEMON_DODU
	69, // POKEMON_DODRI
	70, // POKEMON_JUROB
	71, // POKEMON_JUGONG
	72, // POKEMON_SLEIMA
	73, // POKEMON_SLEIMOK
	74, // POKEMON_MUSCHAS
	75, // POKEMON_AUSTOS
	76, // POKEMON_NEBULAK
	77, // POKEMON_ALPOLLO
	78, // POKEMON_GENGAR
	79, // POKEMON_ONIX
	81, // POKEMON_TRAUMATO
	82, // POKEMON_HYPNO
	83, // POKEMON_KRABBY
	84, // POKEMON_KINGLER
	85, // POKEMON_VOLTOBAL
	86, // POKEMON_LEKTROBAL
	87, // POKEMON_OWEI
	88, // POKEMON_KOKOWEI
	89, // POKEMON_TRAGOSSO
	90, // POKEMON_KNOGGA
	92, // POKEMON_KICKLEE
	93, // POKEMON_NOCKCHAN
	95, // POKEMON_SCHLURP
	97, // POKEMON_SMOGON
	98, // POKEMON_SMOGMOG
	99, // POKEMON_RIHORN
	100, // POKEMON_RIZEROS
	107, // POKEMON_CHANEIRA
	356, // POKEMON_ZOBIRIS
	102, // POKEMON_KANGAMA
	103, // POKEMON_SEEPER
	104, // POKEMON_SEEMON
	236, // POKEMON_QUABBEL
	237, // POKEMON_APOQUALLYP
	109, // POKEMON_STERNDU
	110, // POKEMON_STARMIE
	234, // POKEMON_TRAUNFUGIL
	117, // POKEMON_SICHLOR
	370, // POKEMON_GALAGLADI
	112, // POKEMON_ELEKTEK
	115, // POKEMON_MAGMAR
	119, // POKEMON_PINSIR
	120, // POKEMON_TAUROS
	121, // POKEMON_KARPADOR
	122, // POKEMON_GARADOS
	123, // POKEMON_LAPRAS
	124, // POKEMON_DITTO
	125, // POKEMON_EVOLI
	126, // POKEMON_AQUANA
	127, // POKEMON_BLITZA
	128, // POKEMON_FLAMARA
	134, // POKEMON_PORYGON
	139, // POKEMON_AMONITAS
	140, // POKEMON_AMOROSO
	141, // POKEMON_KABUTO
	142, // POKEMON_KABUTOPS
	143, // POKEMON_AERODACTYL
	138, // POKEMON_RELAXO
	144, // POKEMON_ARKTOS
	145, // POKEMON_ZAPDOS
	146, // POKEMON_LAVADOS
	147, // POKEMON_DRATINI
	148, // POKEMON_DRAGONIR
	149, // POKEMON_DRAGORAN
	150, // POKEMON_MEWTU
	151, // POKEMON_MEW
	152, // POKEMON_ENDIVIE
	153, // POKEMON_LORBLATT
	154, // POKEMON_MEGANIE
	155, // POKEMON_FEURIGEL
	156, // POKEMON_IGELAVAR
	157, // POKEMON_TORNUPTO
	158, // POKEMON_KARNIMANI
	159, // POKEMON_TYRACROC
	160, // POKEMON_IMPERGATOR
	242, // POKEMON_IGNIVOR
	243, // POKEMON_RAMOTH
	129, // POKEMON_GLAZIOLA
	221, // POKEMON_RESLADERO
	170, // POKEMON_LEDYBA
	171, // POKEMON_LEDIAN
	172, // POKEMON_WEBARAK
	173, // POKEMON_ARIADOS
	30, // POKEMON_IKSBAT
	230, // POKEMON_LAMPI
	231, // POKEMON_LANTURN
	66, // POKEMON_MAGNEZONE
	176, // POKEMON_TOGEKISS
	161, // POKEMON_FLABEBE
	174, // POKEMON_TOGEPI
	175, // POKEMON_TOGETIC
	177, // POKEMON_NATU
	178, // POKEMON_XATU
	179, // POKEMON_VOLTILAMM
	180, // POKEMON_WAATY
	181, // POKEMON_AMPHAROS
	34, // POKEMON_BLUBELLA
	196, // POKEMON_MARILL
	197, // POKEMON_AZUMARILL
	204, // POKEMON_MOGELBAUM
	187, // POKEMON_CLAVION
	188, // POKEMON_LICHTEL
	189, // POKEMON_LATERNECTO
	190, // POKEMON_SKELABRA
	191, // POKEMON_GRIFFEL
	193, // POKEMON_SHNEBEDECK
	194, // POKEMON_REXBLISAR
	192, // POKEMON_AMBIDIFFEL
	198, // POKEMON_FELINO
	199, // POKEMON_MORLORD
	130, // POKEMON_PSIANA
	131, // POKEMON_NACHTARA
	200, // POKEMON_KRAMURX
	63, // POKEMON_LASCHOKING
	201, // POKEMON_KRAMSHEF
	202, // POKEMON_ICOGNITO
	322, // POKEMON_FROSDEDJE
	208, // POKEMON_SKORGRO
	205, // POKEMON_TANNZA
	206, // POKEMON_FORSTELLKA
	113, // POKEMON_ELEVOLTEK
	207, // POKEMON_SKORGLA
	80, // POKEMON_STAHLOS
	209, // POKEMON_SNUBBULL
	210, // POKEMON_GRANBULL
	218, // POKEMON_MAMUTEL
	118, // POKEMON_SCHEROX
	25, // POKEMON_POTTROTT
	211, // POKEMON_SKARABORN
	223, // POKEMON_KRYPPUK
	212, // POKEMON_TEDDIURSA
	213, // POKEMON_URSARING
	214, // POKEMON_SCHNECKMAG
	215, // POKEMON_MAGCARGO
	216, // POKEMON_QUIEKEL
	217, // POKEMON_KEIFEL
	137, // POKEMON_MAMPFAXO
	219, // POKEMON_REMORAID
	220, // POKEMON_OCTILLERY
	224, // POKEMON_BOTOGEL
	96, // POKEMON_SCHLURPLEK
	225, // POKEMON_PANZAERON
	226, // POKEMON_HUNDUSTER
	227, // POKEMON_HUNDEMON
	105, // POKEMON_SEEDRAKING
	228, // POKEMON_PHANPY
	229, // POKEMON_DONPHAN
	135, // POKEMON_PORYGON2
	297, // POKEMON_VOLUMINAS
	235, // POKEMON_TRAUNMAGIL
	91, // POKEMON_RABAUZ
	94, // POKEMON_KAPOERA
	222, // POKEMON_SEN_LONG
	111, // POKEMON_ELEKID
	114, // POKEMON_MAGBY
	238, // POKEMON_MILTANK
	108, // POKEMON_HEITEIRA
	244, // POKEMON_RAIKOU
	245, // POKEMON_ENTEI
	246, // POKEMON_SUICUNE
	247, // POKEMON_LARVITAR
	248, // POKEMON_PUPITAR
	249, // POKEMON_DESPOTAR
	250, // POKEMON_LUGIA
	251, // POKEMON_HO_OH
	252, // POKEMON_CELEBI
	0, // POKEMON_BISAFLORM
	0, // POKEMON_GLURAKM
	0, // POKEMON_AQUANAM
	0, // POKEMON_BLITZAM
	0, // POKEMON_FLAMARM
	0, // POKEMON_DURENGARDA
	0, // POKEMON_IN
	0, // POKEMON_GAME
	0, // POKEMON_TURTOKM
	0, // POKEMON_AMPHARAOSM
	0, // POKEMON_GENGARM
	0, // POKEMON_BIBORM
	0, // POKEMON_ALTARIAM
	0, // POKEMON_GEOWAZM
	0, // POKEMON_SENGOM
	0, // POKEMON_VIPITISM
	0, // POKEMON_ZOBIRISM
	0, // POKEMON_10d
	0, // POKEMON_10e
	0, // POKEMON_10f
	0, // POKEMON_110
	0, // POKEMON_111
	0, // POKEMON_112
	0, // POKEMON_113
	0, // POKEMON_114
	253, // POKEMON_LOCKSCHAL
	254, // POKEMON_STICHSCHAL
	255, // POKEMON_STAHLSTICH
	256, // POKEMON_WELUNO
	257, // POKEMON_ORTHODOS
	258, // POKEMON_ZERBERTRES
	259, // POKEMON_SEEKID
	260, // POKEMON_SEESKULL
	261, // POKEMON_SKULLYDRA
	262, // POKEMON_FIFFYEN
	263, // POKEMON_MAGNAYEN
	264, // POKEMON_ZIGZACHS
	265, // POKEMON_GERADAKS
	266, // POKEMON_WAUMPEL
	267, // POKEMON_SCHALOKO
	268, // POKEMON_PAPINELLA
	269, // POKEMON_PANEKON
	270, // POKEMON_PUDOX
	271, // POKEMON_LOTURZEL
	272, // POKEMON_LOMBRERO
	273, // POKEMON_KAPPALORES
	274, // POKEMON_SAMURZEL
	275, // POKEMON_BLANAS
	276, // POKEMON_TENGULIST
	277, // POKEMON_NINCADA
	278, // POKEMON_NINJASK
	279, // POKEMON_NINJATOM
	280, // POKEMON_SCHWALBINI
	281, // POKEMON_SCHWALBOSS
	282, // POKEMON_KNILZ
	283, // POKEMON_KAPILZ
	284, // POKEMON_PANDIR
	285, // POKEMON_WINGULL
	286, // POKEMON_PELIPPER
	287, // POKEMON_GEHWEIHER
	288, // POKEMON_MASKEREGEN
	289, // POKEMON_WAILMER
	290, // POKEMON_WAILORD
	291, // POKEMON_ENECO
	292, // POKEMON_ENEKORO
	293, // POKEMON_KECLEON
	294, // POKEMON_PUPPANCE
	295, // POKEMON_LEPUMENTAS
	296, // POKEMON_NASGNET
	116, // POKEMON_MAGBRANT
	338, // POKEMON_ZWIRRFINST
	298, // POKEMON_SCHMERBE
	299, // POKEMON_WELSAR
	101, // POKEMON_RIHORNIOR
	300, // POKEMON_KREBSCORPS
	301, // POKEMON_KREBUTACK
	302, // POKEMON_BARSCHWA
	303, // POKEMON_MILOTIC
	304, // POKEMON_KANIVANHA
	305, // POKEMON_TOHAIDO
	306, // POKEMON_KNACKLION
	307, // POKEMON_VIBRAVA
	308, // POKEMON_LIBELLDRA
	309, // POKEMON_RIOLU
	310, // POKEMON_LUCARIO
	311, // POKEMON_FRIZELBLIZ
	312, // POKEMON_VOLTENSO
	313, // POKEMON_CAMAUB
	314, // POKEMON_CAMERUPT
	315, // POKEMON_SEEMOPS
	316, // POKEMON_SEEJONG
	317, // POKEMON_WALRAISA
	318, // POKEMON_TUSKA
	319, // POKEMON_NOKTUSKA
	320, // POKEMON_SCHNEPPKE
	321, // POKEMON_FIRNONTOR
	323, // POKEMON_LUNASTEIN
	324, // POKEMON_SONNFEL
	195, // POKEMON_AZURILL
	327, // POKEMON_SPOINK
	328, // POKEMON_GROINK
	329, // POKEMON_PLUSLE
	330, // POKEMON_MINUN
	331, // POKEMON_FLUNKIFER
	332, // POKEMON_MEDITIE
	333, // POKEMON_MEDITALIS
	334, // POKEMON_WABLU
	335, // POKEMON_ALTARIA
	361, // POKEMON_KLINGPLIM
	336, // POKEMON_ZWIRRLICHT
	337, // POKEMON_ZWIRRKLOP
	136, // POKEMON_PORYGON_Z
	339, // POKEMON_BUMMELZ
	340, // POKEMON_MUNTIER
	341, // POKEMON_LETARKING
	342, // POKEMON_SCHLUPPUCK
	343, // POKEMON_SCHLUKWECH
	344, // POKEMON_TROPIUS
	239, // POKEMON_KAUMALAT
	240, // POKEMON_KNARKSEL
	241, // POKEMON_KNAKRACK
	347, // POKEMON_PERLU
	348, // POKEMON_AALABYSS
	349, // POKEMON_SAGANABYSS
	350, // POKEMON_ABSOL
	351, // POKEMON_SHUPPET
	352, // POKEMON_BANETTE
	353, // POKEMON_VIPITIS
	354, // POKEMON_SENGO
	355, // POKEMON_RELICANTH
	357, // POKEMON_STOLLUNIOR
	358, // POKEMON_STOLLRAK
	359, // POKEMON_STOLLOSS
	360, // POKEMON_FORMEO
	106, // POKEMON_WONNEIRA
	203, // POKEMON_MOBAI
	363, // POKEMON_LILIEP
	364, // POKEMON_WIELIE
	365, // POKEMON_ANORITH
	366, // POKEMON_ARMALDO
	367, // POKEMON_TRASLA
	368, // POKEMON_KIRLIA
	369, // POKEMON_GUARDEVOIR
	371, // POKEMON_KINDWURM
	372, // POKEMON_DRASCHEL
	373, // POKEMON_BRUTALANDA
	374, // POKEMON_TANHEL
	375, // POKEMON_METANG
	376, // POKEMON_METAGROSS
	377, // POKEMON_REGIROCK
	378, // POKEMON_REGICE
	379, // POKEMON_REGISTEEL
	380, // POKEMON_KYOGRE
	381, // POKEMON_GROUDON
	382, // POKEMON_RAYQUAZA
	383, // POKEMON_LATIAS
	384, // POKEMON_LATIOS
	385, // POKEMON_JIRACHI
	386, // POKEMON_DEOXYS
	362, // POKEMON_PALIMPALIM
	0, // POKEMON_EGG
	0, // POKEMON_ICOGNITO_B
	0, // POKEMON_ICOGNITO_C
	0, // POKEMON_ICOGNITO_D
	0, // POKEMON_ICOGNITO_E
	0, // POKEMON_ICOGNITO_F
	0, // POKEMON_ICOGNITO_G
	0, // POKEMON_ICOGNITO_H
	0, // POKEMON_ICOGNITO_I
	0, // POKEMON_ICOGNITO_J
	0, // POKEMON_ICOGNITO_K
	0, // POKEMON_ICOGNITO_L
	0, // POKEMON_ICOGNITO_M
	0, // POKEMON_ICOGNITO_N
	0, // POKEMON_ICOGNITO_O
	0, // POKEMON_ICOGNITO_P
	0, // POKEMON_ICOGNITO_Q
	0, // POKEMON_ICOGNITO_R
	0, // POKEMON_ICOGNITO_S
	0, // POKEMON_ICOGNITO_T
	0, // POKEMON_ICOGNITO_U
	0, // POKEMON_ICOGNITO_V
	0, // POKEMON_ICOGNITO_W
	0, // POKEMON_ICOGNITO_X
	0, // POKEMON_ICOGNITO_Y
	0, // POKEMON_ICOGNITO_Z
	0, // POKEMON_ICOGNITO_EXCLAMATION
	0, // POKEMON_ICOGNITO_QUESTION
	0, // POKEMON_GROUDON_REGENT
};

u16 pokemon_get_display_number(u16 species) {
    int i = 0;
    while (megas[i].species != 0xFFFF) {
        if (megas[i].target == species) {
            species = megas[i].species;
            break;
        }
        i++;
    }
    u16 id = pokedex_get_id(species);
    if (!pokedex_is_national() && id > 151)
        return 0xFFFF;
    return id;

}

u16 pokedex_get_species_by_dex_id(u16 dex_id) {
    if (!dex_id)
        return 0;
    u16 i;
    for (i = 0; i < POKEMON_CNT - 1; i++) {
        if (pokedex_order[i] == dex_id)
            return i;
    }
    return 0;
}
