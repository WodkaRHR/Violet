.include "overworld_script.s"
.include "vars.s"
.include "flags.s"
.include "ordinals.s"
.include "levelscript_types.s"

.global map_haweiland_levelscripts
map_haweiland_levelscripts:
    .byte LEVELSCRIPT_TYPE_ON_TRANSITION
    .word lscr_setworldmapflag
    .byte LEVELSCRIPT_TYPE_ON_LOAD
    .word hide_ship
    .byte 0

lscr_setworldmapflag:
    setworldmapflag WM_HAWEILAND
    end

hide_ship:
    checkflag FLAG_HAWEILAND_CARGO_HALL_DONE
    gotoif NOT_EQUAL dont_hide
    
    setmaptile 0x32 0x1B 0x1cd 0 level=0x4 
    setmaptile 0x33 0x1B 0x2dd 1 level=0x4
    setmaptile 0x34 0x1B 0x2f5 0 level=0xC
    setmaptile 0x35 0x1B 0x2f7 0 level=0xC
    setmaptile 0x36 0x1B 0x2f6 0 level=0xC
    setmaptile 0x37 0x1B 0x2de 1 level=0x4
    setmaptile 0x38 0x1B 0x1cd 0 level=0x4
    setmaptile 0x39 0x1B 0x1cd 0 level=0x4

    setmaptile 0x32 0x1C 0x1cd 0 level=0x4
    setmaptile 0x33 0x1C 0x1cd 0 level=0x4
    setmaptile 0x34 0x1C 0x1cd 0 level=0x4
    setmaptile 0x35 0x1C 0x1cd 0 level=0x4
    setmaptile 0x36 0x1C 0x1cd 0 level=0x4
    setmaptile 0x37 0x1C 0x1cd 0 level=0x4
    setmaptile 0x38 0x1C 0x1cd 0 level=0x4
    setmaptile 0x39 0x1C 0x1cd 0 level=0x4

    setmaptile 0x32 0x1D 0x1cd 0 level=0x4
    setmaptile 0x33 0x1D 0x1cd 0 level=0x4
    setmaptile 0x34 0x1D 0x1cd 0 level=0x4
    setmaptile 0x35 0x1D 0x1cd 0 level=0x4
    setmaptile 0x36 0x1D 0x1cd 0 level=0x4
    setmaptile 0x37 0x1D 0x1cd 0 level=0x4
    setmaptile 0x38 0x1D 0x1cd 0 level=0x4
    setmaptile 0x39 0x1D 0x1cd 0 level=0x4

    setmaptile 0x32 0x1E 0x1cd 0 level=0x4
    setmaptile 0x33 0x1E 0x1cd 0 level=0x4
    setmaptile 0x34 0x1E 0x1cd 0 level=0x4
    setmaptile 0x35 0x1E 0x1cd 0 level=0x4
    setmaptile 0x36 0x1E 0x1cd 0 level=0x4
    setmaptile 0x37 0x1E 0x1cd 0 level=0x4
    setmaptile 0x38 0x1E 0x1cd 0 level=0x4
    setmaptile 0x39 0x1E 0x1cd 0 level=0x4

dont_hide:
    end
