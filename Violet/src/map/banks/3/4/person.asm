.include "movements.s"
.include "callstds.s"
.include "flags.s"
.include "vars.s"
.include "overworld_script.s"
.include "mugshot.s"
.include "specials.s"
.include "songs.s"
.include "items.s"
.include "ordinals.s"
.include "pathfinding.s"

.global ow_script_kaskada_person_0
.global ow_script_kaskada_person_1
.global ow_script_kaskada_person_2
.global ow_script_kaskada_person_3
.global ow_script_kaskada_person_4
.global ow_script_kaskada_person_5
.global ow_script_kaskada_person_6
.global ow_script_kaskada_person_7
.global ow_script_kaskada_person_8
.global ow_script_kaskada_person_9
.global ow_script_kaskada_person_10
.global ow_script_kaskada_person_11
.global ow_script_kaskada_person_12
.global ow_script_kaskada_person_13
.global ow_script_kaskada_person_14
.global ow_script_kaskada_person_15
.global ow_script_kaskada_person_16
.global ow_script_kaskada_person_17
.global ow_script_kaskada_person_18
.global ow_script_kaskada_person_19
.global ow_script_kaskada_person_20
.global ow_script_kaskada_person_21
.global ow_script_kaskada_person_22
.global ow_script_kaskada_person_23
.global ow_script_kaskada_person_24
.global ow_script_kaskada_person_25
.global ow_script_kaskada_person_26
.global ow_script_kaskada_person_27
.global ow_script_kaskada_person_28
.global ow_script_kaskada_person_29
.global ow_script_kaskada_person_30
.global ow_script_kaskada_person_31
.global ow_script_kaskada_person_32
.global ow_script_kaskada_person_33
.global ow_script_kaskada_person_34
.global ow_script_kaskada_person_35
.global ow_script_kaskada_person_36
.global ow_script_kaskada_person_37
.global ow_script_kaskada_evolithe_gift
.global ow_script_kaskada_igva
.global ow_script_kaskada_felix

ow_script_kaskada_person_0:
	loadpointer 0 str_0
	callstd MSG_FACE
	end

ow_script_kaskada_person_1:
	loadpointer 0 str_1
	callstd MSG_FACE
	end

ow_script_kaskada_person_2:
	loadpointer 0 str_2
	callstd MSG_FACE
	end

ow_script_kaskada_person_3:
	loadpointer 0 str_3
	callstd MSG
	end

ow_script_kaskada_person_4:
	loadpointer 0 str_4
	callstd MSG_FACE
	end

ow_script_kaskada_person_5:
	loadpointer 0 str_5
	callstd MSG_FACE
	end

ow_script_kaskada_person_6:
	loadpointer 0 str_6
	callstd MSG_FACE
	end

ow_script_kaskada_person_7:
	loadpointer 0 str_7
	callstd MSG_FACE
	end

ow_script_kaskada_person_8:
	loadpointer 0 str_8
	callstd MSG_FACE
	end

ow_script_kaskada_person_9:
	loadpointer 0 str_9
	callstd MSG
	end

ow_script_kaskada_person_10:
	loadpointer 0 str_10
	callstd MSG_FACE
	end

ow_script_kaskada_person_11:
	loadpointer 0 str_11
	callstd MSG_FACE
	end

ow_script_kaskada_person_12:
	loadpointer 0 str_12
	callstd MSG_FACE
	end

ow_script_kaskada_person_13:
	loadpointer 0 str_13
	callstd MSG_FACE
	end

ow_script_kaskada_person_14:
	loadpointer 0 str_14
	callstd MSG_FACE
	end

ow_script_kaskada_person_15:
	loadpointer 0 str_15
	callstd MSG
	end

ow_script_kaskada_person_16:
	loadpointer 0 str_16
	callstd MSG
	end

ow_script_kaskada_person_17:
	loadpointer 0 str_17
	callstd MSG_FACE
	end

ow_script_kaskada_person_18:
	loadpointer 0 str_18
	callstd MSG_FACE
	end

ow_script_kaskada_person_19:
	loadpointer 0 str_19
	callstd MSG
	end

ow_script_kaskada_person_20:
	loadpointer 0 str_20
	callstd MSG
	end

ow_script_kaskada_person_21:
	loadpointer 0 str_21
	callstd MSG_FACE
	end

ow_script_kaskada_person_22:
	loadpointer 0 str_22
	callstd MSG_FACE
	end

ow_script_kaskada_person_23:
	loadpointer 0 str_23
	callstd MSG_FACE
	end

ow_script_kaskada_person_24:
	loadpointer 0 str_24
	callstd MSG_FACE
	end

ow_script_kaskada_person_25:
	loadpointer 0 str_25
	callstd MSG_FACE
	end

ow_script_kaskada_person_26:
	loadpointer 0 str_26
	callstd MSG_FACE
	end

ow_script_kaskada_person_27:
	loadpointer 0 str_27
	callstd MSG_FACE
	end

ow_script_kaskada_person_28:
	loadpointer 0 str_28
	callstd MSG_FACE
	end

ow_script_kaskada_person_29:
	loadpointer 0 str_29
	callstd MSG_FACE
	end

ow_script_kaskada_person_30:
	loadpointer 0 str_30
	callstd MSG_FACE
	end

ow_script_kaskada_person_31:
	loadpointer 0 str_31
	callstd MSG_FACE
	end

ow_script_kaskada_person_32:
	loadpointer 0 str_32
	callstd MSG_FACE
	end

ow_script_kaskada_person_33:
	loadpointer 0 str_33
	callstd MSG_FACE
	end

ow_script_kaskada_person_34:
	loadpointer 0 str_34
	callstd MSG_FACE
	end

ow_script_kaskada_person_35:
	loadpointer 0 str_35
	callstd MSG_FACE
	end

ow_script_kaskada_person_36:
	loadpointer 0 str_36
	callstd MSG_FACE
	end

ow_script_kaskada_person_37:
	loadpointer 0 str_37
	callstd MSG_FACE
	end

ow_script_kaskada_evolithe_gift:
	lock
    faceplayer
    checkflag KASKADA_EVOLITHE
    gotoif EQUAL after_receiving_evolithe
    loadpointer 0x0 str_intro_evolithe
	callstd MSG_YES_NO
	compare LASTRESULT 0 
	gotoif EQUAL said_no
	loadpointer 0 str_intro_evolithe2

    callstd MSG_KEEPOPEN
    copyvarifnotzero 0x8000 ITEM_EVOLITH
    copyvarifnotzero 0x8001 1
    callstd ITEM_OBTAIN
    compare LASTRESULT 0x0
    gotoif EQUAL ow_script_no_room_for_giveitem
    loadpointer 0x0 str_after_receiving_evolithe
    callstd MSG_KEEPOPEN
    closeonkeypress
    release
    setflag KASKADA_EVOLITHE
    end

after_receiving_evolithe:
    loadpointer 0x0 str_after_receiving_evolithe
    callstd MSG_FACE
    end
said_no:
	loadpointer 0 str_said_no
	callstd MSG_KEEPOPEN
	release
	end

ow_script_kaskada_igva:
	pause 32
	lockall
	faceplayer
	loadpointer 0 str_igva0
	show_mugshot MUGSHOT_IGVA MUGSHOT_LEFT mask_name=1 hide_mugshot=0 message_type=MSG_KEEPOPEN
	loadpointer 0 str_igva0_1
	update_mugshot_emotion MUGSHOT_BLUSHING
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva1
	update_mugshot_emotion MUGSHOT_RUMINATIVE
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva2
	update_mugshot_emotion MUGSHOT_HAPPY
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva3
	update_mugshot_emotion MUGSHOT_RUMINATIVE
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva4
	update_mugshot_emotion MUGSHOT_HAPPY
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva5
	update_mugshot_emotion MUGSHOT_NORMAL
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva6
	update_mugshot_emotion MUGSHOT_SCARED
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva7
	update_mugshot_emotion MUGSHOT_BLUSHING
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva8
	update_mugshot_emotion MUGSHOT_NORMAL
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva9
	update_mugshot_emotion MUGSHOT_NORMAL
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva10
	update_mugshot_emotion MUGSHOT_HAPPY
	callstd MSG_KEEPOPEN
	loadpointer 0 str_igva11
	update_mugshot_emotion MUGSHOT_NORMAL
	callstd MSG_KEEPOPEN
	closeonkeypress
	hide_mugshot
	npc_move_to 36 0x34 0x2f
	pause 32
	applymovement 36 mov_fl
	waitmovement 0
	pause 32
	sound 0x15
	applymovement 36 mov_exclam
	waitmovement 0
	checksound
	loadpointer 0 str_igva12
	show_mugshot MUGSHOT_IGVA MUGSHOT_LEFT
	applymovement 36 mov_5r_fast
	waitmovement 0
	hidesprite 36
	clearflag (FLAG_KASKADA_IGVA_TEAHOUSE | 0x8000)
	releaseall
	end

mov_5r_fast:
	.byte STEP_RIGHT_FAST, STEP_RIGHT_FAST, STEP_RIGHT_FAST, STEP_RIGHT_FAST, STEP_RIGHT_FAST, STOP

ow_script_kaskada_felix:
	lockall
	faceplayer
	loadpointer 0 str_felix_0
	show_mugshot MUGSHOT_FELIX MUGSHOT_LEFT
	sound 0x15
	applymovement 63 mov_exclam
	waitmovement 0
	lockall
	faceplayer
	checksound
	loadpointer 0 str_felix_1
	show_mugshot MUGSHOT_FELIX MUGSHOT_LEFT emotion=MUGSHOT_SHOCKED hide_mugshot=0 message_type=MSG_KEEPOPEN
	loadpointer 0 str_felix_2
	update_mugshot_emotion MUGSHOT_ANGRY
	callstd MSG_KEEPOPEN
	loadpointer 0 str_felix_3
	update_mugshot_emotion MUGSHOT_ANNOYED
	callstd MSG_KEEPOPEN
	loadpointer 0 str_felix_4
	update_mugshot_emotion MUGSHOT_ANGRY
	callstd MSG_KEEPOPEN
	loadpointer 0 str_felix_5
	update_mugshot_emotion MUGSHOT_NORMAL
	callstd MSG_KEEPOPEN
	loadpointer 0 str_felix_6
	update_mugshot_emotion MUGSHOT_HAPPY
	callstd MSG_KEEPOPEN
	loadpointer 0 str_felix_7
	update_mugshot_emotion MUGSHOT_NORMAL
	callstd MSG_KEEPOPEN
	loadpointer 0 str_felix_8
	update_mugshot_emotion MUGSHOT_HAPPY
	callstd MSG_KEEPOPEN
	closeonkeypress
	hide_mugshot
	fadescreen 1
	hidesprite 63
	hidesprite 1
	hidesprite 2
	fadescreen 0
	releaseall
	end

.ifdef LANG_GER

str_felix_0:
	.autostring 34 2 "Hey, PLAYER!\pMeine Leute bewachen diesen Tunnel schon seit Stunden, aber es lässt sich einfach keiner von diesen Revolutionären hier blickenDOTS"
str_felix_1:
	.autostring 34 2 "Was soll das heißen?\pDu hast den Anführer der Revolutionsbewegung getroffen?\pUnd du hast nicht einmal versucht, ihn aufzuhalten?"
str_felix_2:
	.autostring 34 2 "Also ehrlich, PLAYER!\pWarum hast du denn nichts unternommen?"
str_felix_3:
	.autostring 34 2 "Da frägt man sich wirklich, auf wessen Seite du eigentlich stehstDOTS\pAuch wenn Opi uns verboten hat, gegen diesen Albus zu kämpfenDOTS"
str_felix_4:
	.autostring 34 2 "Wir wissen doch beide, dass wir diese Typen stoppen müssen."
str_felix_5:
	.autostring 34 2 "Aber ich will 'mal nicht so sein, PLAYER.\pManchmal verlässt einen schonmal der Mut."
str_felix_6:
	.autostring 34 2 "Keine Sorge!"
str_felix_7:
	.autostring 34 2 "Ab jetzt übernehmen meine Leute und ich!\pWir kriegen diese Fanatiker schon klein."
str_felix_8:
	.autostring 34 2 "Und du siehst zu, dass du beim nächsten Mal nicht kneifst, wenn es hart auf hart kommt, ja?\pBis dann, PLAYER!"


str_igva0:
	.autostring 34 2 "Huh?\nKennen wir uns vielleicht?"
str_igva0_1:
	.autostring 34 2 "DOTS DOTS DOTS\pDOTS DOTS DOTS\pDuDOTS\pDu erinnerst mich anDOTS"
str_igva1:
	.autostring 34 2 "Sagst du mir deinen Namen?"
str_igva2:
	.autostring 34 2 "PLAYER also!\nIch bin Igva, freut mich, dich kennenzulernen."
str_igva3:
	.autostring 34 2 "Normalerweise mache ich so etwas nichtDOTS"
str_igva4:
	.autostring 34 2 "AberDOTS"
str_igva5:
	.autostring 34 2 "Hast du nicht vielleicht LustDOTS"
str_igva6:
	.autostring 34 2 "NajaDOTSTEXT_DELAY_SHORT DOTSTEXT_DELAY_SHORT DOTSTEXT_DELAY_SHORT"
str_igva7:
	.autostring 34 2 "Mit mir einen Tee trinken zu gehen?"
str_igva8:
	.autostring 34 2 "Hier in Kaskada gibt es ein tolles Teehaus!"
str_igva9:
	.autostring 34 2 "Ich werde uns dort einen schönen Platz besorgen."
str_igva10:
	.autostring 34 2 "Ich würde dich wahnsinning gerne kennenlernen, PLAYER."
str_igva11:
	.autostring 34 2 "Und versetz mich nicht, ja?"
str_igva12:
	.autostring 34 2 "DOTS DOTS DOTS\pBis dann, PLAYER!"


str_intro_evolithe:
	.autostring 34 2 "Für viele Trainer geht es nur darum, ihre Pokémon möglichst stark zu machen.\pSie zwingen sie sogar dazu, sich gegen ihren Willen zu entwickeln.\pWenn Trainer so einen Druck auf ihre Pokémon ausübenDOTS\pDas macht mich sehr traurigDOTS\pDabei können doch auch nicht entwickelte Pokémon stark sein, findest du nicht auch?"
str_said_no:
	.autostring 34 2 "Wirklich?\pAlso bist du auch eine dieser Personen, die ihre Pokémon ständig unter Druck setzen?\pDu solltest den Umgang mit deinen Pokémon wirklich noch einmal überdenken."
str_intro_evolithe2:
	.autostring 34 2 "Gut gesagt!\pDu hast aufrichtigen Respekt für Pokémon, die sich nicht entwickeln möchten.\pDarum will ich dir das hier schenken."
str_after_receiving_evolithe:
	.autostring 34 2 "Der Evolith stärkt die gesamte Defensive eines Pokémon, das sich noch entwickeln könnte.\pIst das nicht ein guter Grund, dein Pokémon nicht zu einer Entwicklung zu zwingen?"
str_0:
	.autostring 34 2 "Wo immer man sich in Kaskada auch aufhält, kann man stets das kraftvolle Rauschen dutzender Wasserfälle hören.\pDieser Ort strotzt nur so vor Kraft."
str_1:
	.autostring 34 2 "Als Kind bin ich immer zwischen den Inseln auf diesem See hin und hergeschwommen.\pAber mittlerweile bin ich wohl ganz schön aus der ÜbungDOTS"
str_2:
	.autostring 34 2 "Komm schon Omi, ich will den Tafelberg hinunterklettern!"
str_3:
	.autostring 34 2 "Kindchen, warte doch bitteDOTS\pIch hab dir schon hundert Mal erklärt, dass ich für deine Unternehmungen zu alt binDOTS"
str_4:
	.autostring 34 2 "Ist es nicht beeindruckend, dass man eine Stadt mitten auf einem See errichtet hat?\pWir Bewohner von Kaskada leben sozusagen also im Wasser!"
str_5:
	.autostring 34 2 "Du musst wirklich lernen, dein Flegmon besser im Griff zu haben.\pAuch wenn es langsam ist, geht es einfach nicht, dass es anderen Menschen hinterherläuft."
str_6:
	.autostring 34 2 "Aber Mami!\pMein Flegmon will doch niemanden etwas Böses tun.\pGanz ehrlich!"
str_7:
	.autostring 34 2 "Ist dir schon aufgefallen, dass es auf diesem See einige Inseln gibt?\pIch wette, auf manchen kann man tolle Schätze finden."
str_8:
	.autostring 34 2 "Der Tafelberg ist so ein wunderschönes Fleckchen Natur.\pDiese bezaubernden bläulich schimmernden FelsenDOTS\pWer auch immer die Idee hatte, hier eine Stadt zu errichten, muss ein Genie gewesen sein!"
str_9:
	.autostring 34 2 "Also gut, mein kleines Karpador!\pEines Tages wirst du es schaffen, all die Wasserfälle hier zu erklimmen.\pUnd dann wirst du dich in ein Drachen-Pokémon verwandeln, ja?"
str_10:
	.autostring 34 2 "Jetzt mach doch 'mal langsam!\pIch komme ja gar nicht hinterherDOTS"
str_11:
	.autostring 34 2 "Dieser Ort ist ein beliebtes Reiseziel für VerliebteDOTS\pIch träume schon lange davon, mit meiner Angebeteten eine romantische Kanufahrt zu unternehmenDOTS\pAber ich habe einfach nicht den Schneid, sie danach zu fragenDOTS"
str_12:
	.autostring 34 2 "Es ist eine ziemlich beliebte Mutprobe, von dieser Klippe ins Wasser zu springen.\pMan muss nur aufpassen, dass man sich von der Strömung nicht zu weit mitreißen lässt.\pAm Ende landet man noch in Blütenbach und muss den ganzen Weg zurück nach Kaskada auf sich nehmen."
str_13:
	.autostring 34 2 "Bei gutem Wetter kann man von hier bis hinunter nach Anemonia sehen.\pEin Aussichtspunkt so hoch oben hat durchaus seine Vorzüge, findest du nicht?"
str_14:
	.autostring 34 2 "Du fragst dich sicher, was jemand von meiner Zunft in Kaskada treibt, nicht?\pNun, das kann ich dir sagen!\pIch bin wegen der Milotic-Legende hier, natürlich!\pDu kennst diese Geschichte gar nicht?\pDas ist ja wirklich kaum zu fassen!"
str_15:
	.autostring 34 2 "Jetzt haben wir die anderen verloren!\pWo sind denn nur Albus und Igva hin?"
str_16:
	.autostring 34 2 "Keine Sorge!\pDie beiden finden wir schon wieder.\pFrüher oder später werden sie ja zum Teehaus zurückkommen müssen."
str_17:
	.autostring 34 2 "Hach, ich freue mich schon darauf, nachher mit meinem Pummeluff einen heißen Tee im Teehaus zu schlürfen!"
str_18:
	.autostring 34 2 "Jedes Mal, wenn ich mir hier die Leute in ihren Kanus ansehe, werde ich total neidisch!\pUnd dabei gönne ich mir dieses Vergnügen doch selbst beinahe täglich!"
str_19:
	.autostring 34 2 "Ich will aber nicht auf so eine langweilige Kanufahrt mit dir gehenDOTS\pDas ist doch wirklich öde!"
str_20:
	.autostring 34 2 "Du bist aber wirklich schwer von Begriff!\pIch will aber unbedingt eine Kanufahrt machen!\pUnd zwar mit dir!"
str_21:
	.autostring 34 2 "Meine Frau besteht darauf, ständig auf diese nervigen Kanufahrten zu gehen.\pIch hätte wirklich gedacht, dass sie früher oder später auch für sie ihren Reiz verlieren würdenDOTS\pWäre ich doch bloß niemals in diese Stadt gezogen!"
str_22:
	.autostring 34 2 "Ich weiß, dass es klischeehaft wirken mussDOTS\pAber selbst, wenn man hier in Kaskada lebt, wird man dieser beruhigenden Kanufahrten einfach niemals müde."
str_23:
	.autostring 34 2 "Wie, du willst auf eine Kanufahrt gehen?\pGanz alleine?\pIst das nicht etwasDOTS\nDOTStraurig?"
str_24:
	.autostring 34 2 "Es wird vielleicht etwas ungewöhnlich klingen, aber für Käfersammler ist Kaskada ein Geheimtipp.\pEs heißt, hier kann man starke Exemplare des Pokémon Gehweiher fangen."
str_25:
	.autostring 34 2 "Es ist eine weit verbreitete Angewohnheit hier in Kaskada, regelmäßig im Teehaus einzukehren.\pDie ganze Stadt ist verrückt nach Tee, musst du wissen."
str_26:
	.autostring 34 2 "Ich war früher ein begeisterter Wanderer.\pMeine Lieblingstour war es schon immer, den Tafelberg hinaufzukraxeln.\pAllein der Ausblick, den man von Kaskada über die Region hat, ist jede Anstrengung wert.\pAlso bin ich, als ich irgenwann nicht mehr wandern konnte, einfach hierher gezogen."
str_27:
	.autostring 34 2 "Meine Mami sagt, ich soll nicht zu nah an die Geländer hier herangehen.\pIch könnte wohl sonst ins Wasser fallen.\pAber die Wasserfälle rauschen so schön!"
str_28:
	.autostring 34 2 "Früher war das Teehaus mein Lieblingsort in Kaskada.\pAber seit Devin von den Top Vier sich das Geschäft gekauft hat, kehren immer öfter zwielichtige Gestalten in diesem Teehaus ein.\pIch sag dir, das ist regelrechtes Gesindel.\pIrgendetwas stimmt da nicht, in diesem TeehausDOTS"
str_29:
	.autostring 34 2 "Kennst du die Legende, dass in diesem See ein Milotic leben soll?\pEs heißt, es sei das schönste Pokémon überhaupt.\pWas für ein Fang dieses Milotic doch für einen Angler wäre!"
str_30:
	.autostring 34 2 "Hier auf dem Milotic-Plaza trifft man allerhand Leute.\pReisende kommen aus aller Welt, in der Hoffnung, das sagenumwobene Pokémon hier mit einen Augen sehen zu können.\pDen meisten reicht dann aber doch ein Blick auf die Milotic-Statue hier am Plaza."
str_31:
	.autostring 34 2 "Dieser Brunnen ist dem Milotic gewidmet, das laut einer Sage hier im See leben soll.\pSeine Schönheit soll vor vielen Jahren einen Wanderer so sehr bezaubert haben, dass er hier eine Stadt errichtet hat.\pDas ist, der Sage nach, die Entstehunggeschichte von Kaskada.\pEin wirklich großartiger Mythos, nicht wahr?"
str_32:
	.autostring 34 2 "Kaskada ist in ganz Theto vielleicht der Ort, den man am Stärksten mit sauberem Wasser verbindet.\pUnd das ist kein Wunder, wo wir hier doch unser Wasser direkt aus den Quellen des Tafelbergs schöpfen."
str_33:
	.autostring 34 2 "Für mein Pokémon war es eine gute Entscheidung, hierher nach Kaskada zu kommen.\pAber an das laute Getöse der Wasserfälle muss ich mich erst einmal gewöhnenDOTS"
str_34:
	.autostring 34 2 "Tag für Tag mache ich mich früh morgens, wenn die ganze Stadt noch in den Federn liegt, aus dem Haus.\pVielleicht ergattere ich eines Tages ja einen Blick auf das sagenumwobene Milotic, das hier im See leben soll."
str_35:
	.autostring 34 2 "Der Gipfel des Tafelbergs ist nur noch einen kurzen Fußmarsch von hier entfernt.\pSelbst ich in meinem Alter kann diese kleine Wanderung noch antreten."
str_36:
	.autostring 34 2 "Und ich sage dir zum hundertsten Mal, dass keiner dieser Revolutionäre hier entlang gekommen ist.\pWir sollten zu den anderen am Tafelberggipfel aufschließen.\pDa würden wir uns nützlicher machen als hier!"
str_37:
	.autostring 34 2 "Ich bin mir absolut sicher, einen dieser Revolutionäre in dieser Höhle gesehen zu haben.\pDen werd ich nicht laufen lassen, das verpreche ich dir!"

.elseif LANG_EN
.endif